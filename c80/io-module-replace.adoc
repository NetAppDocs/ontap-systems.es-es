---
permalink: c80/io-module-replace.html 
sidebar: sidebar 
keywords: c80, replace a pcie card 
summary: Sustituya un módulo de E/S en su sistema AFF C80 cuando el módulo falle o necesite una actualización para admitir un rendimiento superior o funciones adicionales. 
---
= Sustituya un módulo de E/S - AFF C80
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Reemplace un módulo de E/S en su sistema AFF C80 cuando el módulo falle o requiera una actualización para admitir un mayor rendimiento o funciones adicionales. El proceso de reemplazo implica apagar la controladora, reemplazar el módulo de E/S defectuoso, reiniciar la controladora y devolver la pieza defectuosa a NetApp.  Puede utilizar este procedimiento con todas las versiones de ONTAP compatibles con su sistema de almacenamiento.

.Antes de empezar
* Debe tener la pieza de repuesto disponible.
* Asegúrese de que el resto de los componentes del sistema de almacenamiento funcionen correctamente. De lo contrario, póngase en contacto con el soporte técnico.




== Paso 1: Apague el controlador dañado

Apague o retome el controlador dañado utilizando una de las siguientes opciones.

[role="tabbed-block"]
====
.Opción 1: La mayoría de los sistemas
--
Para apagar el controlador dañado, debe determinar el estado del controlador y, si es necesario, tomar el control para que el controlador sano siga sirviendo datos del almacenamiento del controlador dañado.

.Acerca de esta tarea
* Si dispone de un sistema SAN, debe haber comprobado los mensajes de evento  `cluster kernel-service show`) para el blade SCSI de la controladora dañada.  `cluster kernel-service show`El comando (desde el modo avanzado priv) muestra el nombre del nodo, link:https://docs.netapp.com/us-en/ontap/system-admin/display-nodes-cluster-task.html["estado del quórum"] de ese nodo, el estado de disponibilidad de ese nodo y el estado operativo de ese nodo.
+
Cada proceso SCSI-blade debe quórum con los otros nodos del clúster. Todos los problemas deben resolverse antes de continuar con el reemplazo.

* Si tiene un clúster con más de dos nodos, debe estar en quórum. Si el clúster no tiene quórum o si una controladora en buen estado muestra falso según su condición, debe corregir el problema antes de apagar la controladora dañada; consulte link:https://docs.netapp.com/us-en/ontap/system-admin/synchronize-node-cluster-task.html?q=Quorum["Sincronice un nodo con el clúster"^].


.Pasos
. Si AutoSupport está habilitado, elimine la creación automática de casos invocando un mensaje de AutoSupport:
+
`system node autosupport invoke -node * -type all -message MAINT=<# of hours>h`

+
El siguiente mensaje de AutoSupport suprime la creación automática de casos durante dos horas:

+
`cluster1:> system node autosupport invoke -node * -type all -message MAINT=2h`

. Desactivar devolución automática:
+
.. Ingrese el siguiente comando desde la consola del controlador en buen estado:
+
`storage failover modify -node _impaired_node_name_ -auto-giveback false`

.. Ingresar `y` cuando vea el mensaje "¿Desea desactivar la devolución automática?"


. Lleve la controladora dañada al aviso DEL CARGADOR:
+
[cols="1,2"]
|===
| Si el controlador dañado está mostrando... | Realice lo siguiente... 


 a| 
El aviso del CARGADOR
 a| 
Vaya al paso siguiente.



 a| 
Esperando devolución...
 a| 
Pulse Ctrl-C y, a continuación, responda `y` cuando se le solicite.



 a| 
Solicitud del sistema o solicitud de contraseña
 a| 
Retome o detenga el controlador dañado del controlador en buen estado:

`storage failover takeover -ofnode _impaired_node_name_ -halt _true_`

El parámetro _-halt true_ lleva al símbolo del sistema de Loader.

|===


--
.Opción 2: La controladora se encuentra en un MetroCluster
--

NOTE: No use este procedimiento si el sistema está en una configuración de MetroCluster de dos nodos.

Para apagar el controlador dañado, debe determinar el estado del controlador y, si es necesario, tomar el control para que el controlador sano siga sirviendo datos del almacenamiento del controlador dañado.

* Si tiene un clúster con más de dos nodos, debe estar en quórum. Si el clúster no tiene quórum o si una controladora en buen estado muestra falso según su condición, debe corregir el problema antes de apagar la controladora dañada; consulte link:https://docs.netapp.com/us-en/ontap/system-admin/synchronize-node-cluster-task.html?q=Quorum["Sincronice un nodo con el clúster"^].
* Si tiene una configuración MetroCluster, debe haber confirmado que el estado de configuración de MetroCluster está configurado y que los nodos están en estado normal y habilitado (`metrocluster node show`).


.Pasos
. Si AutoSupport está habilitado, suprima la creación automática de casos invocando un comando de AutoSupport: `system node autosupport invoke -node * -type all -message MAINT=number_of_hours_downh`
+
El siguiente comando de la AutoSupport suprime la creación automática de casos durante dos horas: `cluster1:*> system node autosupport invoke -node * -type all -message MAINT=2h`

. Deshabilite la devolución automática de la consola de la controladora en buen estado: `storage failover modify –node local -auto-giveback false`
. Lleve la controladora dañada al aviso DEL CARGADOR:
+
[cols="1,2"]
|===
| Si el controlador dañado está mostrando... | Realice lo siguiente... 


 a| 
El aviso del CARGADOR
 a| 
Vaya al siguiente paso.



 a| 
Esperando devolución...
 a| 
Pulse Ctrl-C y, a continuación, responda `y` cuando se le solicite.



 a| 
Solicitud del sistema o solicitud de contraseña (introduzca la contraseña del sistema)
 a| 
Detenga o tome el control del controlador dañado del controlador en buen estado: `storage failover takeover -ofnode _impaired_node_name_`

Cuando el controlador dañado muestre esperando devolución..., pulse Ctrl-C y, a continuación, responda `y`.

|===


--
====


== Paso 2: Sustituya un módulo I/O fallido

Para sustituir un módulo de E/S, búsquelo dentro del módulo del controlador y siga la secuencia específica de pasos.

.Pasos
. Si usted no está ya conectado a tierra, correctamente tierra usted mismo.
. Etiqueta los cables para identificar de dónde vienen y luego desconecta todos los cables del módulo de E/S de destino.
. Gire hacia abajo la bandeja de gestión de cables tirando de los botones del interior de la bandeja de gestión de cables y girándola hacia abajo.
. Retire el módulo de E/S del módulo del controlador:
+

NOTE: La siguiente ilustración muestra la extracción de un módulo de E/S horizontal y vertical. Normalmente, solo extraerás un módulo de E/S.

+
image::../media/drw_a70_90_io_remove_replace_ieops-1532.svg[Retire el módulo de E/S.]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["Número de llamada 1"]
 a| 
Botón de bloqueo de leva

|===
+
.. Pulse el botón de bloqueo de leva.
.. Gire el pestillo de leva hacia fuera del módulo hasta el tope.
.. Retire el módulo del módulo del controlador enganchando el dedo en la abertura de la palanca de leva y sacando el módulo del módulo del controlador.
+
Lleva un registro de en qué ranura estaba el módulo de E/S.



. Coloque el módulo de E/S a un lado.
. Instale el módulo de E/S de repuesto en la ranura de destino:
+
.. Alinee el módulo de E/S con los bordes de la ranura.
.. Deslice suavemente el módulo en la ranura hasta el fondo dentro del módulo del controlador y, a continuación, gire el pestillo de leva completamente hacia arriba para bloquear el módulo en su lugar.


. Conecte el cable al módulo de E/S.
. Gire la bandeja de gestión de cables a la posición bloqueada.




== Paso 3: Reinicie el controlador

Después de sustituir un módulo de I/O, debe reiniciar la controladora.

.Pasos
. Reinicie la controladora desde el aviso del CARGADOR:
+
`bye`

+

NOTE: Al reiniciar la controladora afectada, también se reinician los módulos de E/S y otros componentes.

. Devuelva la controladora afectada a su funcionamiento normal devolviendo su almacenamiento:
+
`storage failover giveback -ofnode _impaired_node_name_`

. Restaure la devolución automática del control desde la consola de la controladora en buen estado:
+
`storage failover modify -node local -auto-giveback true`

. Si AutoSupport está habilitado, restaure la creación automática de casos:
+
`system node autosupport invoke -node * -type all -message MAINT=END`





== Paso 4: Devuelva la pieza que falló a NetApp

Devuelva la pieza que ha fallado a NetApp, como se describe en las instrucciones de RMA que se suministran con el kit. Consulte https://mysupport.netapp.com/site/info/rma["Devolución de piezas y sustituciones"] la página para obtener más información.
